/* Basic reset */
:root{
  --bg1:#0f172a; --bg2:#071029;
  --neon-joy:#ffd166; --neon-calm:#74c0fc; --neon-neutral:#9aa0a6; --neon-sad:#b388ff; --neon-anx:#ff6b6b;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body,#app{height:100%}
body{font-family:Inter,system-ui,Segoe UI,Arial;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:#e6eef8;overflow:hidden}
.screen{position:absolute;inset:0;padding:40px;display:flex;flex-direction:column;align-items:center;justify-content:center}
.hidden{display:none}

/* Landing */
.universe{width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative}
.floating-shapes .shape{position:absolute;border-radius:50%;filter:blur(18px);opacity:.6}
.shape.s1{width:220px;height:220px;background:#3ddc84;left:10%;top:20%;animation:floatSlow 12s infinite}
.shape.s2{width:160px;height:160px;background:#6b8cff;right:12%;top:30%;animation:floatSlow 10s infinite}
.shape.s3{width:110px;height:110px;background:#ff7ab6;left:45%;top:70%;animation:floatSlow 14s infinite}
@keyframes floatSlow{0%{transform:translateY(0)}50%{transform:translateY(-20px)}100%{transform:translateY(0)}}

.typewriter{font-size:48px;letter-spacing:2px;margin-bottom:20px;text-shadow:0 0 12px rgba(255,255,255,0.06)}
.typewriter::after{content:"";display:inline-block;width:2px;height:1.1em;background:#fff;margin-left:8px;animation:blink 1s steps(1) infinite}
@keyframes blink{50%{opacity:0}}

/* CTA ripple */
.cta{background:linear-gradient(90deg,#7ef0a7,#7ad3ff);border:none;padding:14px 28px;border-radius:28px;font-weight:700;cursor:pointer;position:relative;overflow:hidden}
.cta:active::after{transform:scale(0);opacity:0}
.cta::after{content:'';position:absolute;left:50%;top:50%;width:10px;height:10px;background:rgba(255,255,255,0.32);border-radius:50%;transform:translate(-50%,-50%);transition:all .6s}
.cta:hover::after{transform:translate(-50%,-50%) scale(20);opacity:0}

/* Planets */
.planets{display:flex;gap:24px;align-items:center;justify-content:center;margin-top:20px}
.planet{width:110px;height:110px;border-radius:50%;box-shadow:0 6px 30px rgba(0,0,0,0.6),0 0 18px rgba(255,255,255,0.02);position:relative;cursor:pointer;transition:transform .4s}
.planet:hover{transform:scale(1.08)}
.planet.joy{background:radial-gradient(circle at 30% 30%,#fff9d6,#ffd166);box-shadow:0 0 24px rgba(255,209,102,0.6)}
.planet.calm{background:radial-gradient(circle at 30% 30%,#e9f7ff,#74c0fc);box-shadow:0 0 28px rgba(116,192,252,0.45);animation:breath 4s infinite}
.planet.neutral{background:linear-gradient(135deg,#d7dcdf,#9aa0a6);animation:rotateSlow 12s linear infinite}
.planet.sad{background:linear-gradient(135deg,#c8b8ff,#b388ff);position:relative}
.planet.anxiety{background:linear-gradient(135deg,#ff9b9b,#ff6b6b);animation:vibrate .08s infinite}
@keyframes rotateSlow{from{transform:rotate(0)}to{transform:rotate(360deg)}}
@keyframes breath{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
@keyframes vibrate{0%{transform:translateX(0)}25%{transform:translateX(1px)}50%{transform:translateX(-1px)}75%{transform:translateX(1px)}100%{transform:translateX(0)}}
.planet:hover{animation-duration:0.8s!important}

/* Rain for sad (particles) */
.planet.sad::after{content:'';position:absolute;left:10%;top:80%;width:80%;height:6px;background:linear-gradient(90deg,rgba(255,255,255,0.12),rgba(255,255,255,0));filter:blur(6px)}

/* Journal & Garden */
.journal{width:70%;max-width:900px;display:flex;flex-direction:column;gap:12px}
.journal textarea{min-height:120px;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:inherit}
.journal-actions{display:flex;gap:12px;align-items:center}
.garden-canvas{width:100%;height:360px;border-radius:12px;margin-top:14px;background:linear-gradient(180deg,rgba(0,0,0,0.12),rgba(0,0,0,0.06));position:relative;overflow:hidden}
.flower{position:absolute;bottom:10px;transform-origin:center bottom;animation:sway 6s ease-in-out infinite}
@keyframes sway{0%{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(-6px) rotate(2deg)}100%{transform:translateY(0) rotate(-2deg)}}
.firefly{position:absolute;background:radial-gradient(circle,#fff8,rgba(255,255,200,0));width:8px;height:8px;border-radius:50%;filter:blur(3px);opacity:.9}

/* Breathing */
.breathing-wrapper{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:18px}
.breath-circle{width:220px;height:220px;border-radius:50%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,0.06),transparent);box-shadow:0 20px 60px rgba(0,0,0,0.6),0 0 60px rgba(116,192,252,0.1);transition:transform 2.4s cubic-bezier(.4,0,.2,1);}
.breath-text{font-size:28px}

/* Relax */
.relax-bg{position:absolute;inset:0;background:linear-gradient(120deg,#021026,#0b2238);z-index:0;animation:gradShift 10s ease-in-out infinite}
@keyframes gradShift{0%{background:linear-gradient(120deg,#021026,#0b2238)}50%{background:linear-gradient(120deg,#04293a,#123456)}100%{background:linear-gradient(120deg,#021026,#0b2238)}}
.glass-card{position:relative;padding:28px;border-radius:18px;background:rgba(255,255,255,0.04);backdrop-filter:blur(8px);box-shadow:0 10px 40px rgba(0,0,0,0.6);z-index:1}
.cloud{position:absolute;background:rgba(255,255,255,0.06);border-radius:50%;filter:blur(12px)}
.cloud.c1{width:220px;height:80px;left:10%;bottom:20%;animation:cloudMove 40s linear infinite}
.cloud.c2{width:300px;height:110px;right:5%;bottom:10%;animation:cloudMove 60s linear infinite}
@keyframes cloudMove{0%{transform:translateX(0)}100%{transform:translateX(-1200px)}}

/* Crisis */
.fog{position:absolute;inset:0;background:radial-gradient(ellipse at center,rgba(255,255,255,0.02),transparent);animation:fogMove 18s infinite;z-index:0}
@keyframes fogMove{0%{opacity:.8}50%{opacity:.95}100%{opacity:.85}}
.safebox{position:relative;padding:24px;border-radius:12px;background:rgba(0,0,0,0.35);box-shadow:0 20px 60px rgba(0,0,0,0.6);z-index:1}
.pulsing{animation:pulse 2s infinite}
@keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.03);opacity:.9}100%{transform:scale(1);opacity:1}}
.emergency{background:linear-gradient(90deg,#ff6b6b,#ff9b9b);padding:12px 20px;border-radius:10px;color:#111;font-weight:700;border:none;box-shadow:0 8px 30px rgba(255,100,100,0.18)}
.emergency.heartbeat{animation:heartbeat 1s infinite}
@keyframes heartbeat{0%{transform:scale(1)}40%{transform:scale(1.08)}70%{transform:scale(0.98)}100%{transform:scale(1)}}

/* Timeline */
#waveCanvas{width:90%;height:320px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);}

/* Mind Journey overlay */
#mindJourney{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:9999}
.mj-overlay{position:absolute;inset:0;background:radial-gradient(circle,#ffffff11,#000);backdrop-filter: blur(6px)}
.mj-content{position:relative;color:#042a2a;z-index:2;text-align:center}
.mj-content h2{font-size:32px;margin-top:16px}

/* Navigation */
.main-nav{position:fixed;left:10px;top:10px;display:flex;flex-direction:column;gap:8px}
.main-nav button{background:rgba(255,255,255,0.03);border:none;padding:8px 12px;border-radius:8px;color:inherit;cursor:pointer}

/* small screens */
@media (max-width:720px){.typewriter{font-size:28px}.planet{width:80px;height:80px}}